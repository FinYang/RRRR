<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to RRRR • RRRR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Introduction to RRRR">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-129140417-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129140417-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RRRR</a>
        <span class="version label label-warning" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/RRRR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/FinYang/RRRR">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to RRRR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/FinYang/RRRR/blob/master/vignettes/RRRR.Rmd"><code>vignettes/RRRR.Rmd</code></a></small>
      <div class="hidden name"><code>RRRR.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(RRRR)</a></code></pre></div>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>The R package <em>RRRR</em> provides methods for estimating online Robust Reduced-Rank Regression.</p>
<p>If you use any code from the <code>RRRR</code> package in a publication, please use the following citation:</p>
<blockquote>
<p>Yangzhuoran Yang and Ziping Zhao (2020). RRRR: Online Robust Reduced-Rank Regression Estimation. R package version 1.0.0. <a href="https://pkg.yangzhuoranyang.com/RRRR/" class="uri">https://pkg.yangzhuoranyang.com/RRRR/</a>.</p>
</blockquote>
<p>This vignette aims to provide illustrations to estimate and update (Online) Reduced-Rank Regression using various methods contained in the package.</p>
</div>
<div id="formulation" class="section level2">
<h2 class="hasAnchor">
<a href="#formulation" class="anchor"></a>Formulation</h2>
<p>The formulation of the reduced-rank regression is as follow: <span class="math display">\[y = \mu +AB'  x + D z+innov,\]</span> where for each realization</p>
<ul>
<li>
<span class="math inline">\(y\)</span> is a vector of dimension <span class="math inline">\(P\)</span> for the <span class="math inline">\(P\)</span> response variables,</li>
<li>
<span class="math inline">\(x\)</span> is a vector of dimension <span class="math inline">\(Q\)</span> for the <span class="math inline">\(Q\)</span> explanatory variables that will be projected to reduce the rank,</li>
<li>
<span class="math inline">\(z\)</span> is a vector of dimension <span class="math inline">\(R\)</span> for the <span class="math inline">\(R\)</span> explanatory variables that will not be projected,</li>
<li>
<span class="math inline">\(\mu\)</span> is the constant vector of dimension <span class="math inline">\(P\)</span>,</li>
<li>
<span class="math inline">\(innov\)</span> is the innovation vector of dimension <span class="math inline">\(P\)</span>,</li>
<li>
<span class="math inline">\(D\)</span> is a coefficient matrix for <span class="math inline">\(z\)</span> with dimension <span class="math inline">\(P*R\)</span>,</li>
<li>
<span class="math inline">\(A\)</span> is the so called exposure matrix with dimension <span class="math inline">\(P*r\)</span>, and</li>
<li>
<span class="math inline">\(B\)</span> is the so called factor matrix with dimension <span class="math inline">\(Q*r\)</span>.</li>
</ul>
<p>The matrix resulted from <span class="math inline">\(AB'\)</span> will be a reduced rank coefficient matrix with rank of <span class="math inline">\(r\)</span>. The function estimates parameters <span class="math inline">\(\mu\)</span>, <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span>, <span class="math inline">\(D\)</span>, and <span class="math inline">\(Sigma\)</span>, the covariance matrix of the innovation’s distribution.</p>
</div>
<div id="simulation" class="section level2">
<h2 class="hasAnchor">
<a href="#simulation" class="anchor"></a>Simulation</h2>
<p>To simulate example data that can be used to estimate reduced-rank regression, use function <code>RRR_sim</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">data &lt;-<span class="st"> </span><span class="kw"><a href="../reference/RRR_sim.html">RRR_sim</a></span>()</a>
<a class="sourceLine" id="cb2-2" title="2">data</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#&gt; Simulated Data for Reduced-Rank Regression</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">#&gt; ------------</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co">#&gt; Specifications:</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">#&gt;    N    P    Q    R    r </span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">#&gt; 1000    3    3    1    1 </span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#&gt;       mu        A       B        D Sigma1 Sigma2 Sigma3</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">#&gt; [1,] 0.1  0.74225 0.68725 -1.55716      1      0      0</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="co">#&gt; [2,] 0.1  0.43502 0.52282  0.35465      0      1      0</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co">#&gt; [3,] 0.1 -0.37060 1.29274 -1.70662      0      0      1</span></a></code></pre></div>
<p>A number of parameters can be specified. See <code><a href="../reference/RRR_sim.html">?RRR_sim</a></code>. The default arguments are set in such a way that the matrix resulted from <span class="math inline">\(AB'\)</span> will be a reduced rank coefficient matrix with rank of <span class="math inline">\(r\)</span>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(data)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co">#&gt; List of 4</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">#&gt;  $ spec:List of 11</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">#&gt;   ..$ P    : num 3</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">#&gt;   ..$ N    : num 1000</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#&gt;   ..$ Q    : num 3</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt;   ..$ R    : num 1</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt;   ..$ A    : num [1:3, 1] 0.742 0.435 -0.371</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt;   ..$ B    : num [1:3, 1] 0.687 0.523 1.293</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">#&gt;   ..$ mu   : num [1:3] 0.1 0.1 0.1</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="co">#&gt;   ..$ D    : num [1:3, 1] -1.557 0.355 -1.707</span></a>
<a class="sourceLine" id="cb3-12" title="12"><span class="co">#&gt;   ..$ r    : num 1</span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="co">#&gt;   ..$ Sigma: num [1:3, 1:3] 1 0 0 0 1 0 0 0 1</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="co">#&gt;   ..$ innov: num [1:1000, 1:3] -1.2173 -0.4838 0.0107 0.0778 0.9328 ...</span></a>
<a class="sourceLine" id="cb3-15" title="15"><span class="co">#&gt;  $ y   : num [1:1000, 1:3] 1.947 -1.477 -1.381 -1.229 -0.196 ...</span></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="co">#&gt;  $ x   : num [1:1000, 1:3] -1.781 -1.779 -1.174 -0.429 -1.203 ...</span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="co">#&gt;  $ z   : num [1:1000] -1.789 0.481 0.385 0.384 0.71 ...</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="co">#&gt;  - attr(*, "class")= chr [1:2] "RRR_data" "list"</span></a></code></pre></div>
<p>The returned list of <code>RRR_sim</code> contains the input specifications and the data points <span class="math inline">\(y\)</span>, <span class="math inline">\(x\)</span> and <span class="math inline">\(z\)</span>.</p>
</div>
<div id="reduced-rank-regression-using-gaussian-mle-rrr" class="section level2">
<h2 class="hasAnchor">
<a href="#reduced-rank-regression-using-gaussian-mle-rrr" class="anchor"></a>Reduced-Rank Regression using Gaussian MLE : <code>RRR</code>
</h2>
<p>The Gaussian Maximum Likelihood Estimation method is described in Johansen, S. (<a href="#ref">1991</a>). This method is not robust in the sense that it assumes a Gaussian distribution for the innovations which does not take into account the heavy-tailedness of the true distribution and outliers.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">res_gmle &lt;-<span class="st"> </span><span class="kw"><a href="../reference/RRR.html">RRR</a></span>(<span class="dt">y=</span>data<span class="op">$</span>y, <span class="dt">x=</span>data<span class="op">$</span>x, <span class="dt">z =</span> data<span class="op">$</span>z)</a>
<a class="sourceLine" id="cb4-2" title="2">res_gmle</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co">#&gt; Reduced-Rank Regression</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">#&gt; ------------</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">#&gt; Specifications:</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">#&gt;    N    P    Q    R    r </span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">#&gt; 1000    3    3    1    1 </span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">#&gt; Coefficients:</span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="co">#&gt;            mu        A       B        D   Sigma1   Sigma2   Sigma3</span></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="co">#&gt; [1,] 0.135535  1.15977 0.40648 -1.52920  2.23754 -0.18237 -0.20750</span></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="co">#&gt; [2,] 0.129302  0.69725 0.32835  0.44172 -0.18237  2.72440  0.31704</span></a>
<a class="sourceLine" id="cb4-13" title="13"><span class="co">#&gt; [3,] 0.073182 -0.54686 0.84981 -1.77316 -0.20750  0.31704  2.49236</span></a></code></pre></div>
<p>The matrix <span class="math inline">\(z\)</span> and the constant <span class="math inline">\(\mu\)</span> term are optional.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">res_gmle &lt;-<span class="st"> </span><span class="kw"><a href="../reference/RRR.html">RRR</a></span>(<span class="dt">y=</span>data<span class="op">$</span>y, <span class="dt">x=</span>data<span class="op">$</span>x, <span class="dt">z=</span>data<span class="op">$</span>z, <span class="dt">mu =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb5-2" title="2">res_gmle &lt;-<span class="st"> </span><span class="kw"><a href="../reference/RRR.html">RRR</a></span>(<span class="dt">y=</span>data<span class="op">$</span>y, <span class="dt">x=</span>data<span class="op">$</span>x, <span class="dt">z=</span><span class="ot">NULL</span>, <span class="dt">mu =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb5-3" title="3">res_gmle &lt;-<span class="st"> </span><span class="kw"><a href="../reference/RRR.html">RRR</a></span>(<span class="dt">y=</span>data<span class="op">$</span>y, <span class="dt">x=</span>data<span class="op">$</span>x, <span class="dt">z=</span><span class="ot">NULL</span>, <span class="dt">mu =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
</div>
<div id="robust-reduced-rank-regression-using-cauchy-distribution-and-majorisation-minimisation-rrrr" class="section level2">
<h2 class="hasAnchor">
<a href="#robust-reduced-rank-regression-using-cauchy-distribution-and-majorisation-minimisation-rrrr" class="anchor"></a>Robust Reduced-Rank Regression using Cauchy distribution and Majorisation-Minimisation: <code>RRRR</code>
</h2>
<p>The Majorisation-Minimisation estimation method is partly described in Zhao, Z., &amp; Palomar, D. P. (<a href="#ref">2017</a>). This method is robust in the sense that it assumes a heavy-tailed Cauchy distribution for the innovations. As before the matrix <span class="math inline">\(z\)</span> and the constant term <span class="math inline">\(\mu\)</span> are optional.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">res_mm &lt;-<span class="st"> </span><span class="kw"><a href="../reference/RRRR.html">RRRR</a></span>(<span class="dt">y=</span>data<span class="op">$</span>y, <span class="dt">x=</span>data<span class="op">$</span>x, <span class="dt">z =</span> data<span class="op">$</span>z, </a>
<a class="sourceLine" id="cb6-2" title="2">               <span class="dt">itr =</span> <span class="dv">100</span>, </a>
<a class="sourceLine" id="cb6-3" title="3">               <span class="dt">earlystop =</span> <span class="fl">1e-4</span>)</a>
<a class="sourceLine" id="cb6-4" title="4">res_mm</a>
<a class="sourceLine" id="cb6-5" title="5"><span class="co">#&gt; Robust Reduced-Rank Regression</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="co">#&gt; ------</span></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="co">#&gt; Majorisation-Minimisation</span></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="co">#&gt; ------------</span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="co">#&gt; Specifications:</span></a>
<a class="sourceLine" id="cb6-10" title="10"><span class="co">#&gt;    N    P    Q    R    r </span></a>
<a class="sourceLine" id="cb6-11" title="11"><span class="co">#&gt; 1000    3    3    1    1 </span></a>
<a class="sourceLine" id="cb6-12" title="12"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-13" title="13"><span class="co">#&gt; Coefficients:</span></a>
<a class="sourceLine" id="cb6-14" title="14"><span class="co">#&gt;            mu        A        B        D    Sigma1    Sigma2    Sigma3</span></a>
<a class="sourceLine" id="cb6-15" title="15"><span class="co">#&gt; [1,] 0.058836 -0.53522 -0.88154 -1.53621  0.624011 -0.038661 -0.031257</span></a>
<a class="sourceLine" id="cb6-16" title="16"><span class="co">#&gt; [2,] 0.106561 -0.34578 -0.63394  0.39277 -0.038661  0.689091  0.053542</span></a>
<a class="sourceLine" id="cb6-17" title="17"><span class="co">#&gt; [3,] 0.095238  0.27852 -1.76207 -1.74103 -0.031257  0.053542  0.720720</span></a></code></pre></div>
<p>Additional arguments that are worth noticing are <code>itr</code>, which control the maximum number of iteration, and <code>earlystop</code>, which is the criteria to stop the algorithm early. The algorithm will stop if the improvement on objective value is small than <code>earlystop</code> <span class="math inline">\(\times\ objective\_from\_last\_iteration\)</span>.</p>
<p>This method is an iterative optimization algorithm so we can use the inbuilt <code>plot.RRRR</code> method to see the convergence plot of the algorithm.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(res_mm, <span class="dt">aes_x =</span> <span class="st">"iteration"</span>, <span class="dt">xlog10 =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="RRRR_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>Argument <code>aes_x</code> can set the x axis to be the number of iteration or the run time. Argument <code>xlog10</code> can indicate whether the scale of x axis is log 10 transformed.</p>
</div>
<div id="online-robust-reduced-rank-regression-orrrr" class="section level2">
<h2 class="hasAnchor">
<a href="#online-robust-reduced-rank-regression-orrrr" class="anchor"></a>Online Robust Reduced-Rank Regression: <code>ORRRR</code>
</h2>
<p>The description of the generic Stochastic Successive Upper-bound Minimisation method and the Sample Average Approximation can be found in Razaviyayn, M., Sanjabi, M., &amp; Luo, Z. Q. (<a href="#ref">2016</a>).</p>
<p>There are two major estimation methods supported:</p>
<ul>
<li>SMM: Stochastic Majorisation-Minimisation</li>
<li>SAA: Sample Average Approximation</li>
</ul>
<p>The algorithm is online in the sense that the data is continuously incorporated and the algorithm can update the parameters accordingly. As before the matrix <span class="math inline">\(z\)</span> and the constant term <span class="math inline">\(\mu\)</span> are optional.</p>
<p>At each iteration of SAA, a new realisation of the parameters is achieved by solving the minimisation problem of the sample average of the desired objective function using the data currently incorporated. This can be computationally expensive when the objective function is highly nonconvex. The SMM method overcomes this difficulty by replacing the objective function by a well-chosen majorising surrogate function which can be much easier to optimise.</p>
<div id="smm-stochastic-majorisation-minimisation" class="section level3">
<h3 class="hasAnchor">
<a href="#smm-stochastic-majorisation-minimisation" class="anchor"></a>SMM: Stochastic Majorisation-Minimisation</h3>
<p>By default the function <code>ORRRR</code> uses SMM.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">res_smm &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ORRRR.html">ORRRR</a></span>(<span class="dt">y=</span>data<span class="op">$</span>y, <span class="dt">x=</span>data<span class="op">$</span>x, <span class="dt">z=</span>data<span class="op">$</span>z, </a>
<a class="sourceLine" id="cb8-2" title="2">                 <span class="dt">initial_size =</span> <span class="dv">100</span>, <span class="dt">addon =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb8-3" title="3">res_smm</a>
<a class="sourceLine" id="cb8-4" title="4"><span class="co">#&gt; Online Robust Reduced-Rank Regression</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="co">#&gt; ------</span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="co">#&gt; Stochastic Majorisation-Minimisation</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="co">#&gt; ------------</span></a>
<a class="sourceLine" id="cb8-8" title="8"><span class="co">#&gt; Specifications:</span></a>
<a class="sourceLine" id="cb8-9" title="9"><span class="co">#&gt;            N            P            R            r initial_size        addon </span></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="co">#&gt;         1000            3            1            1          100           10 </span></a>
<a class="sourceLine" id="cb8-11" title="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="co">#&gt; Coefficients:</span></a>
<a class="sourceLine" id="cb8-13" title="13"><span class="co">#&gt;            mu        A       B        D    Sigma1    Sigma2   Sigma3</span></a>
<a class="sourceLine" id="cb8-14" title="14"><span class="co">#&gt; [1,] 0.059484  0.53999 0.87424 -1.53543  0.634907 -0.039024 -0.03186</span></a>
<a class="sourceLine" id="cb8-15" title="15"><span class="co">#&gt; [2,] 0.104492  0.34865 0.62611  0.39299 -0.039024  0.701179  0.05492</span></a>
<a class="sourceLine" id="cb8-16" title="16"><span class="co">#&gt; [3,] 0.095133 -0.28034 1.75265 -1.74091 -0.031860  0.054920  0.73396</span></a></code></pre></div>
<p>The simulated data set is of size 1000. In the above command, in the first iteration 100 realisations are used in the estimation with 10 more data points in each of the following iteration. Because of the increasing data size, the estimation will be slower the longer the algorithm run. Therefore, the estimated time left in the progress bar is not very accurate in this sense.</p>
<p>The output from <code>ORRRR</code> can also plotted using <code>plot.RRRR</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(res_smm)</a></code></pre></div>
<p><img src="RRRR_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
</div>
<div id="saa-sample-average-approximation" class="section level3">
<h3 class="hasAnchor">
<a href="#saa-sample-average-approximation" class="anchor"></a>SAA: Sample Average Approximation</h3>
<p>When using SAA, there are two sub solver supported in each iteration.</p>
<ul>
<li>optim: the <code>optim</code> function from the <code>stats</code> package, and</li>
<li>MM: Majorisation-Minimisation method with ten subiterations by default.</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">res_saa_optim &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ORRRR.html">ORRRR</a></span>(<span class="dt">y=</span>data<span class="op">$</span>y, <span class="dt">x=</span>data<span class="op">$</span>x, <span class="dt">z=</span>data<span class="op">$</span>z,</a>
<a class="sourceLine" id="cb10-2" title="2">                       <span class="dt">method =</span> <span class="st">"SAA"</span>, <span class="dt">SAAmethod =</span> <span class="st">"optim"</span>)</a>
<a class="sourceLine" id="cb10-3" title="3">res_saa_mm &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ORRRR.html">ORRRR</a></span>(<span class="dt">y=</span>data<span class="op">$</span>y, <span class="dt">x=</span>data<span class="op">$</span>x, <span class="dt">z=</span>data<span class="op">$</span>z,</a>
<a class="sourceLine" id="cb10-4" title="4">                       <span class="dt">method =</span> <span class="st">"SAA"</span>, <span class="dt">SAAmethod =</span> <span class="st">"MM"</span>)</a></code></pre></div>
<p><code>optim</code> is a general purpose solver which means it will be quite slow for this specific problem, especially when the number of parameters is large. Embedding majorisation-minimisation into subiteration of SAA is more like a heuristic without solid theory backing up its efficiency. Due to the time constraint we do not show the estimated result here.</p>
</div>
</div>
<div id="truly-online-update-rrrr" class="section level2">
<h2 class="hasAnchor">
<a href="#truly-online-update-rrrr" class="anchor"></a>Truly online: <code>update.RRRR</code>
</h2>
<p>With the result from <code>ORRRR</code>, user can still update it with newly achieved data using function <code>update</code>. Note the result from <code>RRRR</code> can also be updated where it simply takes the result from <code>RRRR</code> as the starting point in online estimation.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">newdata &lt;-<span class="st"> </span><span class="kw"><a href="../reference/RRR_sim.html">RRR_sim</a></span>()</a>
<a class="sourceLine" id="cb11-2" title="2">res2_smm &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/update.html">update</a></span>(res_smm, <span class="dt">newy=</span>newdata<span class="op">$</span>y, <span class="dt">newx=</span>newdata<span class="op">$</span>x, <span class="dt">newz=</span>newdata<span class="op">$</span>z)</a>
<a class="sourceLine" id="cb11-3" title="3">res2_smm</a>
<a class="sourceLine" id="cb11-4" title="4"><span class="co">#&gt; Online Robust Reduced-Rank Regression</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="co">#&gt; ------</span></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="co">#&gt; Stochastic Majorisation-Minimisation</span></a>
<a class="sourceLine" id="cb11-7" title="7"><span class="co">#&gt; ------------</span></a>
<a class="sourceLine" id="cb11-8" title="8"><span class="co">#&gt; Specifications:</span></a>
<a class="sourceLine" id="cb11-9" title="9"><span class="co">#&gt;            N            P            R            r initial_size        addon </span></a>
<a class="sourceLine" id="cb11-10" title="10"><span class="co">#&gt;         2000            3            1            1         1010           10 </span></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-12" title="12"><span class="co">#&gt; Coefficients:</span></a>
<a class="sourceLine" id="cb11-13" title="13"><span class="co">#&gt;           mu         A       B        D Sigma1   Sigma2   Sigma3</span></a>
<a class="sourceLine" id="cb11-14" title="14"><span class="co">#&gt; [1,] 0.12464  0.776539 1.51475 -0.65345 3.6547 0.295997 1.016854</span></a>
<a class="sourceLine" id="cb11-15" title="15"><span class="co">#&gt; [2,] 0.17385  0.280644 1.22286  0.37535 0.2960 0.883385 0.043297</span></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="co">#&gt; [3,] 0.12656 -0.088716 0.87212 -0.91176 1.0169 0.043297 1.483516</span></a></code></pre></div>
<p>Without other arguments specified, <code>update</code> will just take the original specification in the model. If it applies to output of <code>RRRR</code>, then the default would be the default arguments in <code>ORRRR</code>, i.e., with <code>method</code> set to “SMM” and <code>addon</code> set to 10.</p>
</div>
<div id="ref" class="section level2">
<h2 class="hasAnchor">
<a href="#ref" class="anchor"></a>References</h2>
<p><a href="https://www.jstor.org/stable/2938278?origin=crossref">Johansen, S{}ren. 1991. “Estimation and Hypothesis Testing of Cointegration Vectors in Gaussian Vector Autoregressive Models.” Econometrica: Journal of the Econometric Society 59 (6): 1551.</a></p>
<p><a href="https://ieeexplore.ieee.org/abstract/document/8309093/">Z. Zhao and D. P. Palomar, “Robust maximum likelihood estimation of sparse vector error correction model,” in2017 IEEE Global Conferenceon Signal and Information Processing (GlobalSIP), pp. 913–917,IEEE, 2017.</a></p>
<p><a href="http://link.springer.com/10.1007/s10107-016-1021-7">Razaviyayn, Meisam, Maziar Sanjabi, and Zhi Quan Luo. 2016. “A Stochastic Successive Minimization Method for Nonsmooth Nonconvex Optimization with Applications to Transceiver Design in Wireless Communication Networks.” Mathematical Programming. A Publication of the Mathematical Programming Society 157 (2): 515–45.</a></p>
</div>
<div id="license" class="section level2">
<h2 class="hasAnchor">
<a href="#license" class="anchor"></a>License</h2>
<p>This package is free and open source software, licensed under GPL-3</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#formulation">Formulation</a></li>
      <li><a href="#simulation">Simulation</a></li>
      <li><a href="#reduced-rank-regression-using-gaussian-mle-rrr">Reduced-Rank Regression using Gaussian MLE : <code>RRR</code></a></li>
      <li><a href="#robust-reduced-rank-regression-using-cauchy-distribution-and-majorisation-minimisation-rrrr">Robust Reduced-Rank Regression using Cauchy distribution and Majorisation-Minimisation: <code>RRRR</code></a></li>
      <li><a href="#online-robust-reduced-rank-regression-orrrr">Online Robust Reduced-Rank Regression: <code>ORRRR</code></a></li>
      <li><a href="#truly-online-update-rrrr">Truly online: <code>update.RRRR</code></a></li>
      <li><a href="#ref">References</a></li>
      <li><a href="#license">License</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://yangzhuoranyang.com">Yangzhuoran Yang</a>, <a href="https://zipingzhao.github.io/">Ziping Zhao</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
